(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[333],{LuU8:function(t,e,c){"use strict";c.d(e,"b",function(){return y}),c.d(e,"a",function(){return w});var n=c("g2ny"),i=c("ukIe"),o=c("Rab/"),a=c("4Ldt"),u=c("a5lW"),l=c("mpkx"),d=c("p7af"),r=c("ePBi"),b=c("fDCE"),s=c("kg3G"),O=c("p+FQ"),m=c("FLWv"),g=c("y/Yg"),j=c("1xSP"),p=c("e18T"),_=c("aD9D"),S=c("lkI2"),f=c("c8W1");function _objectSpread(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(c).filter(function(t){return Object.getOwnPropertyDescriptor(c,t).enumerable}))),n.forEach(function(e){_defineProperty(t,e,c[e])})}return t}function _defineProperty(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}const h=({path:t,track:e,module:c,contentItem:i},a=!0)=>async(u,l)=>{const d=l(),r=Object(o.k)(d),b=(({path:t,track:e,module:c,contentItem:n})=>({pathSlug:t.slug,trackSlug:e.slug,moduleSlug:c.slug,contentItemType:j.c[n.type].pluralType,contentItemSlug:n.slug}))({path:t,track:e,module:c,contentItem:i});let s=p.e(_objectSpread({},b,{query:r}));a&&(s=Object(n.redirect)(s)),u(s)},I=()=>async(t,e)=>{const c=e(),n=Object(o.h)(c),a=Object(O.g)(c,n.pathSlug),u=Object(g.a)(c,a.id),l=Object(r.e)(e(),u.contentItemIds),d=l?l.content_item_id:u.contentItemIds[u.contentItemIds.length-1];await t(Object(i.b)({ids:[d],minimal:!1}));const b=Object(s.b)(e(),{id:d}),m=u.modules.find(t=>t.content_item_ids.indexOf(b.id)>-1),j=u.tracks.find(t=>t.module_ids.indexOf(m.id)>-1);t(h({path:a,track:j,module:m,contentItem:b}))},k=()=>async(t,e)=>{const c=e(),n=Object(o.h)(c),a=Object(O.g)(c,n.pathSlug),u=Object(b.c)(c,n.trackSlug);if(!u)return void t(I());const l=Object(g.b)(c,u.id),d=Object(r.e)(e(),l.contentItemIds),m=d?d.content_item_id:l.contentItemIds[l.contentItemIds.length-1];await t(Object(i.b)({ids:[m],minimal:!1}));const j=Object(s.b)(e(),{id:m}),p=l.modules.find(t=>t.content_item_ids.indexOf(j.id)>-1);t(h({path:a,track:u,module:p,contentItem:j}))},y=()=>async(t,e)=>{const c=e(),n=Object(o.h)(c);Object(O.g)(c,n.pathSlug)||await t(Object(a.b)({slug:n.pathSlug,limit:1}));const g=Object(O.g)(e(),n.pathSlug);await t(Object(u.c)(g.track_ids));const j=Object(b.f)(e(),g.track_ids).reduce((t,e)=>t.concat(e.module_ids),[]);await t(Object(l.f)(j));const p=Object(m.g)(e(),j).reduce((t,e)=>t.concat(e.content_item_ids),[]);await Promise.all([t(Object(d.c)(p)),t(Object(i.b)({ids:p,minimal:!1}))]),n.trackSlug?n.moduleSlug?t(async(t,e)=>{const c=e(),n=Object(o.h)(c),a=Object(O.g)(c,n.pathSlug),u=Object(b.c)(c,n.trackSlug);if(!u)return void t(I());const l=Object(m.d)(c,n.moduleSlug);if(!l)return void t(k());const d=l.content_item_ids,g=Object(r.e)(e(),d),j=g?g.content_item_id:d[d.length-1];await t(Object(i.b)({ids:[j],minimal:!1}));const p=Object(s.b)(e(),{id:j});t(h({path:a,track:u,module:l,contentItem:p}))}):t(k()):t(I())},w=()=>async(t,e)=>{const c=Object(o.h)(e());if(Object(O.g)(e(),c.pathSlug)||await t(Object(a.b)({slug:c.pathSlug})),await t(Object(f.a)()),!Object(_.c)(e(),c.contentItemSlug)){const i=Object(o.k)(e()),a=c.pathSlug,u=c.trackSlug,l=c.moduleSlug;Object(S.a)("info",`Content Item: ${c.contentItemSlug} doesn't exist in this track; Redirecting`),t(Object(n.redirect)(p.f(_objectSpread({},{pathSlug:a,trackSlug:u,moduleSlug:l},{query:i}))))}}}}]);
//# sourceMappingURL=333.7af8c4c71cafbea2288c.chunk.js.map